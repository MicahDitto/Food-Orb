{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user-profile.service\";\nimport * as i2 from \"src/app/services/storage.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nfunction SettingsComponent_div_12_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"alert-success\", ctx_r3.profileMessageType === \"success\")(\"alert-danger\", ctx_r3.profileMessageType === \"error\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.profileMessage, \" \");\n  }\n}\nfunction SettingsComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"h3\");\n    i0.ɵɵtext(2, \"Your Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 10);\n    i0.ɵɵtext(4, \"Manage your personal information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, SettingsComponent_div_12_div_5_Template, 2, 5, \"div\", 11);\n    i0.ɵɵelementStart(6, \"form\", 12, 13);\n    i0.ɵɵlistener(\"ngSubmit\", function SettingsComponent_div_12_Template_form_ngSubmit_6_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.saveProfile());\n    });\n    i0.ɵɵelementStart(8, \"div\", 14)(9, \"label\");\n    i0.ɵɵtext(10, \"Full Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function SettingsComponent_div_12_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.profile.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 14)(13, \"label\");\n    i0.ɵɵtext(14, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function SettingsComponent_div_12_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.profile.email = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 14)(17, \"label\");\n    i0.ɵɵtext(18, \"Phone Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function SettingsComponent_div_12_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.profile.phone = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"button\", 18);\n    i0.ɵɵtext(21, \"Save Profile\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.profileMessage);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.profile.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.profile.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.profile.phone);\n  }\n}\nfunction SettingsComponent_div_13_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_div_13_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.toggleAddAddress());\n    });\n    i0.ɵɵtext(1, \" + Add Address \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SettingsComponent_div_13_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 12, 26);\n    i0.ɵɵlistener(\"ngSubmit\", function SettingsComponent_div_13_div_8_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.saveAddress());\n    });\n    i0.ɵɵelementStart(5, \"div\", 14)(6, \"label\");\n    i0.ɵɵtext(7, \"Address Label\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 27);\n    i0.ɵɵlistener(\"ngModelChange\", function SettingsComponent_div_13_div_8_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.newAddress.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 14)(10, \"label\");\n    i0.ɵɵtext(11, \"Street Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function SettingsComponent_div_13_div_8_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.newAddress.address = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 29)(14, \"div\", 30)(15, \"label\");\n    i0.ɵɵtext(16, \"City\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"input\", 31);\n    i0.ɵɵlistener(\"ngModelChange\", function SettingsComponent_div_13_div_8_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r20.newAddress.city = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 32)(19, \"label\");\n    i0.ɵɵtext(20, \"State\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 33);\n    i0.ɵɵlistener(\"ngModelChange\", function SettingsComponent_div_13_div_8_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.newAddress.state = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 32)(23, \"label\");\n    i0.ɵɵtext(24, \"ZIP Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"input\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function SettingsComponent_div_13_div_8_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r22.newAddress.zip = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(26, \"div\", 35)(27, \"button\", 36);\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_div_13_div_8_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.cancelAddressEdit());\n    });\n    i0.ɵɵtext(30, \"Cancel\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const _r15 = i0.ɵɵreference(4);\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r11.editingAddressIndex !== null ? \"Edit Address\" : \"Add New Address\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.newAddress.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.newAddress.address);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.newAddress.city);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.newAddress.state);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.newAddress.zip);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", _r15.invalid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r11.editingAddressIndex !== null ? \"Update Address\" : \"Save Address\", \" \");\n  }\n}\nfunction SettingsComponent_div_13_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"p\");\n    i0.ɵɵtext(2, \"No saved addresses yet.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 10);\n    i0.ɵɵtext(4, \"Add an address to make checkout faster!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction SettingsComponent_div_13_div_9_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"div\", 43)(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 44)(9, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_div_13_div_9_div_2_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const i_r27 = restoredCtx.index;\n      const ctx_r28 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r28.editAddress(i_r27));\n    });\n    i0.ɵɵtext(10, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_div_13_div_9_div_2_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const i_r27 = restoredCtx.index;\n      const ctx_r30 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r30.removeAddress(i_r27));\n    });\n    i0.ɵɵtext(12, \"Remove\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const addr_r26 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(addr_r26.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(addr_r26.address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", addr_r26.city, \", \", addr_r26.state, \" \", addr_r26.zip, \"\");\n  }\n}\nfunction SettingsComponent_div_13_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵtemplate(1, SettingsComponent_div_13_div_9_div_1_Template, 5, 0, \"div\", 39);\n    i0.ɵɵtemplate(2, SettingsComponent_div_13_div_9_div_2_Template, 13, 5, \"div\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.addresses.length === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.addresses);\n  }\n}\nfunction SettingsComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 20)(2, \"div\")(3, \"h3\");\n    i0.ɵɵtext(4, \"Delivery Addresses\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 10);\n    i0.ɵɵtext(6, \"Manage your saved delivery addresses\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, SettingsComponent_div_13_button_7_Template, 2, 0, \"button\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, SettingsComponent_div_13_div_8_Template, 31, 8, \"div\", 22);\n    i0.ɵɵtemplate(9, SettingsComponent_div_13_div_9_Template, 3, 2, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.showAddAddress);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showAddAddress);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.showAddAddress);\n  }\n}\nfunction SettingsComponent_div_14_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_div_14_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r34.toggleAddPayment());\n    });\n    i0.ɵɵtext(1, \" + Add Payment \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SettingsComponent_div_14_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"h4\");\n    i0.ɵɵtext(2, \"Add New Payment Method\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 12, 47);\n    i0.ɵɵlistener(\"ngSubmit\", function SettingsComponent_div_14_div_8_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r37.savePayment());\n    });\n    i0.ɵɵelementStart(5, \"div\", 14)(6, \"label\");\n    i0.ɵɵtext(7, \"Card Type / Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 48);\n    i0.ɵɵlistener(\"ngModelChange\", function SettingsComponent_div_14_div_8_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r39 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r39.newPayment.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 14)(10, \"label\");\n    i0.ɵɵtext(11, \"Card Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 49);\n    i0.ɵɵlistener(\"ngModelChange\", function SettingsComponent_div_14_div_8_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r40 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r40.newPayment.card = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 29)(14, \"div\", 30)(15, \"label\");\n    i0.ɵɵtext(16, \"Expiration Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"input\", 50);\n    i0.ɵɵlistener(\"ngModelChange\", function SettingsComponent_div_14_div_8_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r41 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r41.newPayment.date = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 30)(19, \"label\");\n    i0.ɵɵtext(20, \"CVC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 51);\n    i0.ɵɵlistener(\"ngModelChange\", function SettingsComponent_div_14_div_8_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r42 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r42.newPayment.cvc = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 35)(23, \"button\", 36);\n    i0.ɵɵtext(24, \"Save Payment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_div_14_div_8_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r43 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r43.cancelPaymentAdd());\n    });\n    i0.ɵɵtext(26, \"Cancel\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const _r36 = i0.ɵɵreference(4);\n    const ctx_r32 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r32.newPayment.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r32.newPayment.card);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r32.newPayment.date);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r32.newPayment.cvc);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", _r36.invalid);\n  }\n}\nfunction SettingsComponent_div_14_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"p\");\n    i0.ɵɵtext(2, \"No saved payment methods yet.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 10);\n    i0.ɵɵtext(4, \"Add a payment method to make checkout faster!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction SettingsComponent_div_14_div_9_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"div\", 43)(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 44)(9, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_div_14_div_9_div_2_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r49);\n      const i_r47 = restoredCtx.index;\n      const ctx_r48 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r48.removePayment(i_r47));\n    });\n    i0.ɵɵtext(10, \"Remove\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const payment_r46 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(payment_r46.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Card: \", payment_r46.card, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Expires: \", payment_r46.date, \"\");\n  }\n}\nfunction SettingsComponent_div_14_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵtemplate(1, SettingsComponent_div_14_div_9_div_1_Template, 5, 0, \"div\", 39);\n    i0.ɵɵtemplate(2, SettingsComponent_div_14_div_9_div_2_Template, 11, 3, \"div\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r33 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r33.payments.length === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r33.payments);\n  }\n}\nfunction SettingsComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 20)(2, \"div\")(3, \"h3\");\n    i0.ɵɵtext(4, \"Payment Methods\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 10);\n    i0.ɵɵtext(6, \"Manage your saved payment methods\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, SettingsComponent_div_14_button_7_Template, 2, 0, \"button\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, SettingsComponent_div_14_div_8_Template, 27, 5, \"div\", 22);\n    i0.ɵɵtemplate(9, SettingsComponent_div_14_div_9_Template, 3, 2, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.showAddPayment);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showAddPayment);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.showAddPayment);\n  }\n}\nexport let SettingsComponent = /*#__PURE__*/(() => {\n  class SettingsComponent {\n    constructor(userProfileService, storage) {\n      this.userProfileService = userProfileService;\n      this.storage = storage;\n      // Tab management\n      this.activeTab = 'profile';\n      // Profile\n      this.profile = {\n        name: '',\n        email: '',\n        phone: ''\n      };\n      this.profileMessage = '';\n      this.profileMessageType = 'success';\n      // Addresses\n      this.addresses = [];\n      this.showAddAddress = false;\n      this.editingAddressIndex = null;\n      this.newAddress = {\n        name: '',\n        address: '',\n        city: '',\n        state: '',\n        zip: ''\n      };\n      // Payments\n      this.payments = [];\n      this.showAddPayment = false;\n      this.newPayment = {\n        name: '',\n        card: '',\n        date: '',\n        cvc: ''\n      };\n    }\n    ngOnInit() {\n      this.loadProfile();\n      this.loadAddresses();\n      this.loadPayments();\n    }\n    // Tab switching\n    setActiveTab(tab) {\n      this.activeTab = tab;\n    }\n    // Profile methods\n    loadProfile() {\n      const savedProfile = this.userProfileService.getProfile();\n      if (savedProfile) {\n        this.profile = savedProfile;\n      } else {\n        // Try to get email from token\n        const email = this.userProfileService.getEmailFromToken();\n        if (email) {\n          this.profile.email = email;\n        }\n      }\n    }\n    saveProfile() {\n      if (!this.profile.name || !this.profile.email) {\n        this.showProfileMessage('Name and email are required', 'error');\n        return;\n      }\n      this.userProfileService.saveProfile(this.profile);\n      this.showProfileMessage('Profile saved successfully!', 'success');\n    }\n    showProfileMessage(message, type) {\n      this.profileMessage = message;\n      this.profileMessageType = type;\n      setTimeout(() => this.profileMessage = '', 3000);\n    }\n    // Address methods\n    loadAddresses() {\n      this.addresses = this.userProfileService.getAddresses();\n    }\n    toggleAddAddress() {\n      this.showAddAddress = !this.showAddAddress;\n      if (this.showAddAddress) {\n        this.editingAddressIndex = null;\n        this.newAddress = {\n          name: '',\n          address: '',\n          city: '',\n          state: '',\n          zip: ''\n        };\n      }\n    }\n    editAddress(index) {\n      this.editingAddressIndex = index;\n      this.newAddress = {\n        ...this.addresses[index]\n      };\n      this.showAddAddress = true;\n    }\n    saveAddress() {\n      if (!this.newAddress.name || !this.newAddress.address || !this.newAddress.city || !this.newAddress.state || !this.newAddress.zip) {\n        return;\n      }\n      if (this.editingAddressIndex !== null) {\n        this.userProfileService.updateAddress(this.editingAddressIndex, this.newAddress);\n      } else {\n        this.userProfileService.addAddress(this.newAddress);\n      }\n      this.loadAddresses();\n      this.showAddAddress = false;\n      this.editingAddressIndex = null;\n      this.newAddress = {\n        name: '',\n        address: '',\n        city: '',\n        state: '',\n        zip: ''\n      };\n    }\n    removeAddress(index) {\n      if (confirm('Are you sure you want to remove this address?')) {\n        this.userProfileService.removeAddress(index);\n        this.loadAddresses();\n      }\n    }\n    cancelAddressEdit() {\n      this.showAddAddress = false;\n      this.editingAddressIndex = null;\n      this.newAddress = {\n        name: '',\n        address: '',\n        city: '',\n        state: '',\n        zip: ''\n      };\n    }\n    // Payment methods\n    loadPayments() {\n      this.payments = this.userProfileService.getPayments();\n    }\n    toggleAddPayment() {\n      this.showAddPayment = !this.showAddPayment;\n      if (this.showAddPayment) {\n        this.newPayment = {\n          name: '',\n          card: '',\n          date: '',\n          cvc: ''\n        };\n      }\n    }\n    savePayment() {\n      if (!this.newPayment.name || !this.newPayment.card || !this.newPayment.date) {\n        return;\n      }\n      this.userProfileService.addPayment({\n        name: this.newPayment.name,\n        card: this.newPayment.card,\n        date: this.newPayment.date\n      });\n      this.loadPayments();\n      this.showAddPayment = false;\n      this.newPayment = {\n        name: '',\n        card: '',\n        date: '',\n        cvc: ''\n      };\n    }\n    removePayment(index) {\n      if (confirm('Are you sure you want to remove this payment method?')) {\n        this.userProfileService.removePayment(index);\n        this.loadPayments();\n      }\n    }\n    cancelPaymentAdd() {\n      this.showAddPayment = false;\n      this.newPayment = {\n        name: '',\n        card: '',\n        date: '',\n        cvc: ''\n      };\n    }\n    get isLoggedIn() {\n      return this.storage.isAuthenticated();\n    }\n  }\n  SettingsComponent.ɵfac = function SettingsComponent_Factory(t) {\n    return new (t || SettingsComponent)(i0.ɵɵdirectiveInject(i1.UserProfileService), i0.ɵɵdirectiveInject(i2.StorageService));\n  };\n  SettingsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SettingsComponent,\n    selectors: [[\"foodorb-settings\"]],\n    decls: 18,\n    vars: 11,\n    consts: [[1, \"container\", \"margin\"], [1, \"card\", \"settings-card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"tab-nav\"], [1, \"tab-btn\", 3, \"click\"], [\"class\", \"tab-content\", 4, \"ngIf\"], [1, \"text-center\", \"margin-top\"], [\"routerLink\", \"/\", 1, \"btn-secondary\"], [1, \"tab-content\"], [1, \"subtitle\"], [\"class\", \"alert\", 3, \"alert-success\", \"alert-danger\", 4, \"ngIf\"], [3, \"ngSubmit\"], [\"profileForm\", \"ngForm\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", \"placeholder\", \"Enter your full name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", \"placeholder\", \"Enter your email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"tel\", \"name\", \"phone\", \"placeholder\", \"Enter your phone number\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn-primary\"], [1, \"alert\"], [1, \"section-header\"], [\"class\", \"btn-primary\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"add-form\", 4, \"ngIf\"], [\"class\", \"items-list\", 4, \"ngIf\"], [1, \"btn-primary\", 3, \"click\"], [1, \"add-form\"], [\"addressForm\", \"ngForm\"], [\"type\", \"text\", \"name\", \"addressName\", \"required\", \"\", \"placeholder\", \"e.g., Home, Work, etc.\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"street\", \"required\", \"\", \"placeholder\", \"123 Main St\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-row\"], [1, \"form-group\", \"col\"], [\"type\", \"text\", \"name\", \"city\", \"required\", \"\", \"placeholder\", \"City\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\", \"col-sm\"], [\"type\", \"text\", \"name\", \"state\", \"required\", \"\", \"placeholder\", \"State\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"zip\", \"required\", \"\", \"placeholder\", \"12345\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"button-group\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn-secondary\", 3, \"click\"], [1, \"items-list\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [\"class\", \"item-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"empty-state\"], [1, \"item-card\"], [1, \"item-info\"], [1, \"item-actions\"], [1, \"btn-secondary\", \"btn-sm\", 3, \"click\"], [1, \"btn-danger\", \"btn-sm\", 3, \"click\"], [\"paymentForm\", \"ngForm\"], [\"type\", \"text\", \"name\", \"cardName\", \"required\", \"\", \"placeholder\", \"e.g., Visa, Mastercard\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"cardNumber\", \"required\", \"\", \"minlength\", \"13\", \"maxlength\", \"19\", \"placeholder\", \"1234 5678 9012 3456\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"expDate\", \"required\", \"\", \"placeholder\", \"MM/YY\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"cvc\", \"minlength\", \"3\", \"maxlength\", \"4\", \"placeholder\", \"123\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"]],\n    template: function SettingsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n        i0.ɵɵtext(3, \"Settings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function SettingsComponent_Template_button_click_6_listener() {\n          return ctx.setActiveTab(\"profile\");\n        });\n        i0.ɵɵtext(7, \" Profile \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function SettingsComponent_Template_button_click_8_listener() {\n          return ctx.setActiveTab(\"addresses\");\n        });\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function SettingsComponent_Template_button_click_10_listener() {\n          return ctx.setActiveTab(\"payments\");\n        });\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(12, SettingsComponent_div_12_Template, 22, 4, \"div\", 6);\n        i0.ɵɵtemplate(13, SettingsComponent_div_13_Template, 10, 3, \"div\", 6);\n        i0.ɵɵtemplate(14, SettingsComponent_div_14_Template, 10, 3, \"div\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 7)(16, \"button\", 8);\n        i0.ɵɵtext(17, \"Back to Home\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵclassProp(\"active\", ctx.activeTab === \"profile\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"active\", ctx.activeTab === \"addresses\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" Addresses (\", ctx.addresses.length, \") \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassProp(\"active\", ctx.activeTab === \"payments\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" Payment Methods (\", ctx.payments.length, \") \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"profile\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"addresses\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"payments\");\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MinLengthValidator, i5.MaxLengthValidator, i5.NgModel, i5.NgForm],\n    styles: [\".settings-card[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.tab-nav[_ngcontent-%COMP%]{display:flex;border-bottom:2px solid #e0e0e0;margin-bottom:20px}.tab-btn[_ngcontent-%COMP%]{padding:12px 24px;background:none;border:none;border-bottom:3px solid transparent;cursor:pointer;font-size:1em;color:#666;transition:all .2s}.tab-btn[_ngcontent-%COMP%]:hover{color:#20b2aa}.tab-btn.active[_ngcontent-%COMP%]{color:#20b2aa;border-bottom-color:#20b2aa;font-weight:700}.tab-content[_ngcontent-%COMP%]{padding:20px 0}.subtitle[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:5px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px;color:#333}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:4px;font-size:1em}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#20b2aa;box-shadow:0 0 0 2px #20b2aa33}.form-row[_ngcontent-%COMP%]{display:flex;gap:15px}.form-row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex:1}.form-row[_ngcontent-%COMP%]   .col-sm[_ngcontent-%COMP%]{flex:0 0 120px}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.add-form[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;margin-bottom:20px}.add-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;color:#20b2aa}.items-list[_ngcontent-%COMP%]{margin-top:20px}.item-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;border:1px solid #e0e0e0;border-radius:8px;margin-bottom:10px;background:#fff}.item-card[_ngcontent-%COMP%]:hover{border-color:#20b2aa;box-shadow:0 2px 8px #0000001a}.item-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#20b2aa;font-size:1.1em}.item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;color:#666}.item-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.9em}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;background:#f9f9f9;border-radius:8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666}.empty-state[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:10px;font-size:.9em}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:4px;margin-bottom:20px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.margin-top[_ngcontent-%COMP%]{margin-top:20px}.text-center[_ngcontent-%COMP%]{text-align:center}\"]\n  });\n  return SettingsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}