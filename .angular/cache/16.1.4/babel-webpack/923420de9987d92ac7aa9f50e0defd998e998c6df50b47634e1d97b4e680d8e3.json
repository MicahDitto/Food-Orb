{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./cart.service\";\nimport * as i4 from \"./storage.service\";\nexport let UserService = /*#__PURE__*/(() => {\n  class UserService {\n    constructor(http, router, cart, storage) {\n      this.http = http;\n      this.router = router;\n      this.cart = cart;\n      this.storage = storage;\n      this.apiUrl = 'http://localhost:3000';\n    }\n    login(model) {\n      this.http.post(`${this.apiUrl}/login`, model).subscribe({\n        next: response => {\n          this.storage.setAccessToken(response.accessToken);\n          this.router.navigateByUrl('');\n        },\n        error: () => {\n          this.router.navigateByUrl('/login');\n        }\n      });\n    }\n    register(model) {\n      this.http.post(`${this.apiUrl}/register`, model).subscribe({\n        next: () => {\n          this.router.navigateByUrl('/login');\n        },\n        error: () => {\n          this.router.navigateByUrl('/login');\n        }\n      });\n    }\n    logout() {\n      this.cart.clearCart();\n      localStorage.removeItem('access-token');\n      this.router.navigateByUrl('/login');\n    }\n    getUserDetails(userEmail) {\n      return this.http.get(`${this.apiUrl}/users?email=${userEmail}`);\n    }\n    addAddressToUser(addresses, userId) {\n      this.router.navigateByUrl('/settings');\n      this.http.patch(`${this.apiUrl}/users/${userId}`, {\n        address: addresses\n      }).subscribe();\n    }\n    updateAddresses(addresses, userId) {\n      this.http.patch(`${this.apiUrl}/users/${userId}`, {\n        address: addresses\n      }).subscribe();\n    }\n    getAddressesForUser(userId) {\n      return this.http.get(`${this.apiUrl}/users/${userId}`);\n    }\n  }\n  UserService.ɵfac = function UserService_Factory(t) {\n    return new (t || UserService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.CartService), i0.ɵɵinject(i4.StorageService));\n  };\n  UserService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: UserService,\n    factory: UserService.ɵfac,\n    providedIn: 'root'\n  });\n  return UserService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}