<div class="d-flex margin justify-content-center">
    <div class="side-padding card">
        <h1 class="card-header side-padding">Order Details</h1>
        <div class="padding card-body">
            <div *ngIf="!order">
                <p>Order not found.</p>
                <button class="btn-secondary" (click)="goBack()">Back to Orders</button>
            </div>

            <div *ngIf="order">
                <h2>Order #{{ order.id }}</h2>
                <p><strong>Status:</strong>
                    <span [class]="'status-' + order.status">{{ order.status | titlecase }}</span>
                </p>
                <p><strong>Delivery Address:</strong>
                    <span *ngIf="order.address">
                        {{ order.address.name }} - {{ order.address.address }}, {{ order.address.city }}, {{ order.address.state }} {{ order.address.zip }}
                    </span>
                </p>
                <p *ngIf="order.payment"><strong>Payment:</strong>
                    {{ order.payment.name }} ending in {{ order.payment.card.slice(-4) }}
                </p>

                <table class="table">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Item</th>
                            <th scope="col">Restaurant</th>
                            <th scope="col">Price</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="data" *ngFor="let item of order.items">
                            <td>{{ item.foodName | titlecase }}</td>
                            <td>{{ item.restaurant }}</td>
                            <td>{{ item.price | currency }}</td>
                        </tr>
                        <tr class="thead-dark">
                            <th>Total</th>
                            <td></td>
                            <td><strong>{{ order.total | currency }}</strong></td>
                        </tr>
                    </tbody>
                </table>

                <button class="slight-margin btn-cancel" (click)="confirmCancel()"
                        *ngIf="order.status !== 'cancelled' && order.status !== 'delivered'">
                    Cancel Order
                </button>
                <button class="btn-secondary" (click)="goBack()">Back to Orders</button>
            </div>
        </div>
    </div>
</div>