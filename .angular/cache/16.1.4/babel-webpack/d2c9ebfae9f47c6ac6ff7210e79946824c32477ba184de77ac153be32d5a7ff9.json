{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user-profile.service\";\nimport * as i2 from \"src/app/services/order.service\";\nimport * as i3 from \"src/app/services/storage.service\";\nimport * as i4 from \"@angular/router\";\nexport let ProfilePageComponent = /*#__PURE__*/(() => {\n  class ProfilePageComponent {\n    constructor(userProfileService, orderService, storage, router) {\n      this.userProfileService = userProfileService;\n      this.orderService = orderService;\n      this.storage = storage;\n      this.router = router;\n      this.profile = null;\n      this.addresses = [];\n      this.payments = [];\n      this.recentOrders = [];\n      this.stats = {\n        addressCount: 0,\n        paymentCount: 0,\n        orderCount: 0\n      };\n    }\n    ngOnInit() {\n      this.loadProfileData();\n    }\n    loadProfileData() {\n      // Load profile\n      this.profile = this.userProfileService.getProfile();\n      // If no profile, try to get email from token\n      if (!this.profile) {\n        const email = this.userProfileService.getEmailFromToken();\n        if (email) {\n          this.profile = {\n            name: '',\n            email,\n            phone: ''\n          };\n        }\n      }\n      // Load addresses and payments\n      this.addresses = this.userProfileService.getAddresses();\n      this.payments = this.userProfileService.getPayments();\n      // Load recent orders\n      this.recentOrders = this.orderService.getOrders().slice(-5).reverse();\n      // Get stats\n      this.stats = this.userProfileService.getProfileStats();\n    }\n    get isLoggedIn() {\n      return this.storage.isAuthenticated();\n    }\n    goToSettings() {\n      this.router.navigateByUrl('/settings');\n    }\n    goToOrders() {\n      this.router.navigateByUrl('/orders');\n    }\n    getStatusClass(status) {\n      switch (status) {\n        case 'pending':\n          return 'status-pending';\n        case 'confirmed':\n          return 'status-confirmed';\n        case 'delivered':\n          return 'status-delivered';\n        case 'cancelled':\n          return 'status-cancelled';\n        default:\n          return '';\n      }\n    }\n    formatAddress(addr) {\n      return `${addr.address}, ${addr.city}, ${addr.state} ${addr.zip}`;\n    }\n  }\n  ProfilePageComponent.ɵfac = function ProfilePageComponent_Factory(t) {\n    return new (t || ProfilePageComponent)(i0.ɵɵdirectiveInject(i1.UserProfileService), i0.ɵɵdirectiveInject(i2.OrderService), i0.ɵɵdirectiveInject(i3.StorageService), i0.ɵɵdirectiveInject(i4.Router));\n  };\n  ProfilePageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfilePageComponent,\n    selectors: [[\"foodorb-profile-page\"]],\n    decls: 29,\n    vars: 0,\n    consts: [[1, \"d-flex\", \"justify-content-center\"], [1, \"container-fluid\", \"search-results\"], [1, \"margin\", \"card\"], [1, \"margin\", \"text-center\"], [1, \"container-fluid\"], [1, \"rule\"], [\"src\", \"src/assets/images/user-placeholder.jpeg\", \"alt\", \"\"], [1, \"card-body\"], [1, \"table\"], [1, \"thead-dark\"], [\"scope\", \"row\", 1, \"thead-dark\"], [\"routerLink\", \"/settings\"]],\n    template: function ProfilePageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n        i0.ɵɵtext(4, \"User Page\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelement(6, \"hr\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"img\", 6);\n        i0.ɵɵelementStart(8, \"div\", 7)(9, \"table\", 8)(10, \"thead\", 9)(11, \"h2\");\n        i0.ɵɵtext(12, \"Details\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"tbody\")(14, \"tr\")(15, \"th\", 10);\n        i0.ɵɵtext(16, \"User ID:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"td\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"tr\")(19, \"th\", 10);\n        i0.ɵɵtext(20, \"Name:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"tr\")(22, \"th\", 10);\n        i0.ɵɵtext(23, \"Email:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"tr\")(25, \"th\", 10);\n        i0.ɵɵtext(26, \"Phone:\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(27, \"a\", 11);\n        i0.ɵɵtext(28, \"Edit Address\");\n        i0.ɵɵelementEnd()()()()();\n      }\n    },\n    dependencies: [i4.RouterLink]\n  });\n  return ProfilePageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}