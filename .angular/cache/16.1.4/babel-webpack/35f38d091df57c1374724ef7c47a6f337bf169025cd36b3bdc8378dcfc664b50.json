{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./storage.service\";\nexport let OrderService = /*#__PURE__*/(() => {\n  class OrderService {\n    constructor(storage) {\n      this.storage = storage;\n      this.storageKey = 'orders';\n    }\n    getOrders() {\n      const ordersJson = this.storage.getItem(this.storageKey);\n      return ordersJson ? JSON.parse(ordersJson) : [];\n    }\n    getOrderById(id) {\n      return this.getOrders().find(order => order.id === id);\n    }\n    createOrder(items, address) {\n      const orders = this.getOrders();\n      const total = items.reduce((sum, item) => sum + item.price, 0);\n      const newOrder = {\n        id: Date.now(),\n        items,\n        total,\n        status: 'pending',\n        address,\n        createdAt: new Date()\n      };\n      orders.push(newOrder);\n      this.storage.setItem(this.storageKey, JSON.stringify(orders));\n      return newOrder;\n    }\n    cancelOrder(id) {\n      const orders = this.getOrders();\n      const orderIndex = orders.findIndex(order => order.id === id);\n      if (orderIndex === -1) {\n        return false;\n      }\n      orders[orderIndex].status = 'cancelled';\n      this.storage.setItem(this.storageKey, JSON.stringify(orders));\n      return true;\n    }\n    clearOrders() {\n      this.storage.removeItem(this.storageKey);\n    }\n  }\n  OrderService.ɵfac = function OrderService_Factory(t) {\n    return new (t || OrderService)(i0.ɵɵinject(i1.StorageService));\n  };\n  OrderService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: OrderService,\n    factory: OrderService.ɵfac,\n    providedIn: 'root'\n  });\n  return OrderService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}