{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/cart.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../pipes/food-search.pipe\";\nfunction HomePageComponent_option_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const restaurant_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", restaurant_r2.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", restaurant_r2.name, \" \");\n  }\n}\nfunction HomePageComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 15)(2, \"img\", 16);\n    i0.ɵɵlistener(\"error\", function HomePageComponent_div_22_Template_img_error_2_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.onImageError($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 17)(4, \"h3\", 18);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h4\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"h4\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\", 19);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function HomePageComponent_div_22_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.confirmCart(item_r3));\n    });\n    i0.ɵɵtext(16, \" Add to Cart\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"alt\", item_r3.foodName);\n    i0.ɵɵproperty(\"src\", item_r3.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 6, item_r3.foodName));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"From \", i0.ɵɵpipeBind1(9, 8, item_r3.restaurant), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 10, item_r3.price));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r3.description);\n  }\n}\nexport let HomePageComponent = /*#__PURE__*/(() => {\n  class HomePageComponent {\n    constructor(cartService, router) {\n      this.cartService = cartService;\n      this.router = router;\n      this.searchValue = '';\n      this.foodList = [];\n      this.allFoods = [];\n      this.restaurants = [];\n      this.selectedRestaurant = '';\n    }\n    ngOnInit() {\n      this.cartService.getFoods().subscribe(foods => {\n        this.allFoods = foods;\n        this.foodList = foods;\n      });\n      this.cartService.getRestaurants().subscribe(restaurants => {\n        this.restaurants = restaurants;\n      });\n    }\n    filterByRestaurant() {\n      if (this.selectedRestaurant === '') {\n        this.foodList = this.allFoods;\n      } else {\n        this.foodList = this.allFoods.filter(food => food.restaurant === this.selectedRestaurant);\n      }\n    }\n    confirmCart(item) {\n      if (confirm(`Confirm add ${item.restaurant} ${item.foodName} to cart?`)) {\n        this.addToCart(item);\n      }\n    }\n    addToCart(product) {\n      this.cartService.addToCart(product);\n      alert('Your product has been added to the cart!');\n    }\n    onImageError(event) {\n      const img = event.target;\n      img.src = 'https://placehold.co/300x200/CCCCCC/333333?text=No+Image';\n    }\n  }\n  HomePageComponent.ɵfac = function HomePageComponent_Factory(t) {\n    return new (t || HomePageComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  HomePageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomePageComponent,\n    selectors: [[\"foodorb-home-page\"]],\n    decls: 24,\n    vars: 7,\n    consts: [[1, \"d-flex\", \"justify-content-center\"], [1, \"container-fluid\", \"margin\", \"text-center\", 2, \"width\", \"65%\"], [2, \"font-weight\", \"bold\", \"color\", \"lightseagreen\", \"font-size\", \"100px\"], [1, \"search-bar-div\"], [1, \"row\"], [1, \"col-md-8\"], [\"type\", \"text\", \"name\", \"searchVale\", \"placeholder\", \"Search for foods or restaurants...\", 1, \"search-bar\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-md-4\"], [1, \"form-select\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"rule\"], [1, \"container-fluid\", \"search-results\"], [\"class\", \"col-md-4\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"margin\", \"card\"], [1, \"card-img-top\", 2, \"height\", \"180px\", \"object-fit\", \"cover\", 3, \"src\", \"alt\", \"error\"], [1, \"card-body\"], [1, \"card-header\"], [1, \"\"], [\"type\", \"button\", 1, \"slight-margin\", \"btn-primary\", 3, \"click\"]],\n    template: function HomePageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n        i0.ɵɵtext(3, \"Welcome to\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"h1\", 2);\n        i0.ɵɵtext(5, \"Food\\u26ABrb\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\");\n        i0.ɵɵtext(7, \"Your food's path to you. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 3)(9, \"div\", 4)(10, \"div\", 5)(11, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function HomePageComponent_Template_input_ngModelChange_11_listener($event) {\n          return ctx.searchValue = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 7)(13, \"select\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function HomePageComponent_Template_select_ngModelChange_13_listener($event) {\n          return ctx.selectedRestaurant = $event;\n        })(\"change\", function HomePageComponent_Template_select_change_13_listener() {\n          return ctx.filterByRestaurant();\n        });\n        i0.ɵɵelementStart(14, \"option\", 9);\n        i0.ɵɵtext(15, \"All Restaurants\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, HomePageComponent_option_16_Template, 2, 2, \"option\", 10);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(17, \"br\")(18, \"hr\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 0)(20, \"div\", 12)(21, \"div\", 4);\n        i0.ɵɵtemplate(22, HomePageComponent_div_22_Template, 17, 12, \"div\", 13);\n        i0.ɵɵpipe(23, \"foodSearch\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchValue);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedRestaurant);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.restaurants);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(23, 4, ctx.foodList, ctx.searchValue));\n      }\n    },\n    dependencies: [i3.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel, i3.TitleCasePipe, i3.CurrencyPipe, i5.FoodSearchPipe]\n  });\n  return HomePageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}